"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,_toPropertyKey(s.key),s)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=_typeof(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var VanillaTilt=function(){var e=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck(this,e),!(t instanceof Node))throw"Can't initialize VanillaTilt because "+t+" is not a Node.";this.width=null,this.height=null,this.clientWidth=null,this.clientHeight=null,this.left=null,this.top=null,this.gammazero=null,this.betazero=null,this.lastgammazero=null,this.lastbetazero=null,this.transitionTimeout=null,this.updateCall=null,this.event=null,this.updateBind=this.update.bind(this),this.resetBind=this.reset.bind(this),this.element=t,this.settings=this.extendSettings(i),this.reverse=this.settings.reverse?-1:1,this.resetToStart=e.isSettingTrue(this.settings["reset-to-start"]),this.glare=e.isSettingTrue(this.settings.glare),this.glarePrerender=e.isSettingTrue(this.settings["glare-prerender"]),this.fullPageListening=e.isSettingTrue(this.settings["full-page-listening"]),this.gyroscope=e.isSettingTrue(this.settings.gyroscope),this.gyroscopeSamples=this.settings.gyroscopeSamples,this.elementListener=this.getElementListener(),this.glare&&this.prepareGlare(),this.fullPageListening&&this.updateClientSize(),this.addEventListeners(),this.reset(),!1===this.resetToStart&&(this.settings.startX=0,this.settings.startY=0)}return _createClass(e,[{key:"getElementListener",value:function(){if(this.fullPageListening)return window.document;if("string"==typeof this.settings["mouse-event-element"]){var e=document.querySelector(this.settings["mouse-event-element"]);if(e)return e}return this.settings["mouse-event-element"]instanceof Node?this.settings["mouse-event-element"]:this.element}},{key:"addEventListeners",value:function(){this.onMouseEnterBind=this.onMouseEnter.bind(this),this.onMouseMoveBind=this.onMouseMove.bind(this),this.onMouseLeaveBind=this.onMouseLeave.bind(this),this.onWindowResizeBind=this.onWindowResize.bind(this),this.onDeviceOrientationBind=this.onDeviceOrientation.bind(this),this.elementListener.addEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.addEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.addEventListener("mousemove",this.onMouseMoveBind),(this.glare||this.fullPageListening)&&window.addEventListener("resize",this.onWindowResizeBind),this.gyroscope&&window.addEventListener("deviceorientation",this.onDeviceOrientationBind)}},{key:"removeEventListeners",value:function(){this.elementListener.removeEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.removeEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.removeEventListener("mousemove",this.onMouseMoveBind),this.gyroscope&&window.removeEventListener("deviceorientation",this.onDeviceOrientationBind),(this.glare||this.fullPageListening)&&window.removeEventListener("resize",this.onWindowResizeBind)}},{key:"destroy",value:function(){clearTimeout(this.transitionTimeout),null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.element.style.willChange="",this.element.style.transition="",this.element.style.transform="",this.resetGlare(),this.removeEventListeners(),this.element.vanillaTilt=null,delete this.element.vanillaTilt,this.element=null}},{key:"onDeviceOrientation",value:function(e){if(null!==e.gamma&&null!==e.beta){this.updateElementPosition(),this.gyroscopeSamples>0&&(this.lastgammazero=this.gammazero,this.lastbetazero=this.betazero,null===this.gammazero?(this.gammazero=e.gamma,this.betazero=e.beta):(this.gammazero=(e.gamma+this.lastgammazero)/2,this.betazero=(e.beta+this.lastbetazero)/2),this.gyroscopeSamples-=1);var t=this.settings.gyroscopeMaxAngleX-this.settings.gyroscopeMinAngleX,i=this.settings.gyroscopeMaxAngleY-this.settings.gyroscopeMinAngleY,s=t/this.width,n=i/this.height,a=(e.gamma-(this.settings.gyroscopeMinAngleX+this.gammazero))/s,l=(e.beta-(this.settings.gyroscopeMinAngleY+this.betazero))/n;null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event={clientX:a+this.left,clientY:l+this.top},this.updateCall=requestAnimationFrame(this.updateBind)}}},{key:"onMouseEnter",value:function(){this.updateElementPosition(),this.element.style.willChange="transform",this.setTransition()}},{key:"onMouseMove",value:function(e){null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.updateBind)}},{key:"onMouseLeave",value:function(){this.setTransition(),this.settings.reset&&requestAnimationFrame(this.resetBind)}},{key:"reset",value:function(){this.onMouseEnter(),this.fullPageListening?this.event={clientX:(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.clientWidth,clientY:(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.clientHeight}:this.event={clientX:this.left+(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.width,clientY:this.top+(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.height};var e=this.settings.scale;this.settings.scale=1,this.update(),this.settings.scale=e,this.resetGlare()}},{key:"resetGlare",value:function(){this.glare&&(this.glareElement.style.transform="rotate(180deg) translate(-50%, -50%)",this.glareElement.style.opacity="0")}},{key:"getValues",value:function(){var e,t;return this.fullPageListening?(e=this.event.clientX/this.clientWidth,t=this.event.clientY/this.clientHeight):(e=(this.event.clientX-this.left)/this.width,t=(this.event.clientY-this.top)/this.height),e=Math.min(Math.max(e,0),1),t=Math.min(Math.max(t,0),1),{tiltX:(this.reverse*(this.settings.max-e*this.settings.max*2)).toFixed(2),tiltY:(this.reverse*(t*this.settings.max*2-this.settings.max)).toFixed(2),percentageX:100*e,percentageY:100*t,angle:Math.atan2(this.event.clientX-(this.left+this.width/2),-(this.event.clientY-(this.top+this.height/2)))*(180/Math.PI)}}},{key:"updateElementPosition",value:function(){var e=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=e.left,this.top=e.top}},{key:"update",value:function(){var e=this.getValues();this.element.style.transform="perspective("+this.settings.perspective+"px) rotateX("+("x"===this.settings.axis?0:e.tiltY)+"deg) rotateY("+("y"===this.settings.axis?0:e.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")",this.glare&&(this.glareElement.style.transform="rotate(".concat(e.angle,"deg) translate(-50%, -50%)"),this.glareElement.style.opacity="".concat(e.percentageY*this.settings["max-glare"]/100)),this.element.dispatchEvent(new CustomEvent("tiltChange",{detail:e})),this.updateCall=null}},{key:"prepareGlare",value:function(){if(!this.glarePrerender){var e=document.createElement("div");e.classList.add("js-tilt-glare");var t=document.createElement("div");t.classList.add("js-tilt-glare-inner"),e.appendChild(t),this.element.appendChild(e)}this.glareElementWrapper=this.element.querySelector(".js-tilt-glare"),this.glareElement=this.element.querySelector(".js-tilt-glare-inner"),this.glarePrerender||(Object.assign(this.glareElementWrapper.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden","pointer-events":"none","border-radius":"inherit"}),Object.assign(this.glareElement.style,{position:"absolute",top:"50%",left:"50%","pointer-events":"none","background-image":"linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)",transform:"rotate(180deg) translate(-50%, -50%)","transform-origin":"0% 0%",opacity:"0"}),this.updateGlareSize())}},{key:"updateGlareSize",value:function(){if(this.glare){var e=2*(this.element.offsetWidth>this.element.offsetHeight?this.element.offsetWidth:this.element.offsetHeight);Object.assign(this.glareElement.style,{width:"".concat(e,"px"),height:"".concat(e,"px")})}}},{key:"updateClientSize",value:function(){this.clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}},{key:"onWindowResize",value:function(){this.updateGlareSize(),this.updateClientSize()}},{key:"setTransition",value:function(){var e=this;clearTimeout(this.transitionTimeout),this.element.style.transition=this.settings.speed+"ms "+this.settings.easing,this.glare&&(this.glareElement.style.transition="opacity ".concat(this.settings.speed,"ms ").concat(this.settings.easing)),this.transitionTimeout=setTimeout((function(){e.element.style.transition="",e.glare&&(e.glareElement.style.transition="")}),this.settings.speed)}},{key:"extendSettings",value:function(e){var t={reverse:!1,max:15,startX:0,startY:0,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:1,speed:300,transition:!0,axis:null,glare:!1,"max-glare":1,"glare-prerender":!1,"full-page-listening":!1,"mouse-event-element":null,reset:!0,"reset-to-start":!0,gyroscope:!0,gyroscopeMinAngleX:-45,gyroscopeMaxAngleX:45,gyroscopeMinAngleY:-45,gyroscopeMaxAngleY:45,gyroscopeSamples:10},i={};for(var s in t)if(s in e)i[s]=e[s];else if(this.element.hasAttribute("data-tilt-"+s)){var n=this.element.getAttribute("data-tilt-"+s);try{i[s]=JSON.parse(n)}catch(t){i[s]=n}}else i[s]=t[s];return i}}],[{key:"isSettingTrue",value:function(e){return""===e||!0===e||1===e}},{key:"init",value:function(t,i){t instanceof Node&&(t=[t]),t instanceof NodeList&&(t=[].slice.call(t)),t instanceof Array&&t.forEach((function(t){"vanillaTilt"in t||(t.vanillaTilt=new e(t,i))}))}}])}();return"undefined"!=typeof document&&(window.VanillaTilt=e,e.init(document.querySelectorAll("[data-tilt]"))),e}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRpdGwuanMiXSwibmFtZXMiOlsiVmFuaWxsYVRpbHQiLCJ0IiwiZSIsImkiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiTm9kZSIsIndpZHRoIiwiaGVpZ2h0IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJsZWZ0IiwidG9wIiwiZ2FtbWF6ZXJvIiwiYmV0YXplcm8iLCJsYXN0Z2FtbWF6ZXJvIiwibGFzdGJldGF6ZXJvIiwidHJhbnNpdGlvblRpbWVvdXQiLCJ1cGRhdGVDYWxsIiwiZXZlbnQiLCJ1cGRhdGVCaW5kIiwidXBkYXRlIiwiYmluZCIsInJlc2V0QmluZCIsInJlc2V0IiwiZWxlbWVudCIsInNldHRpbmdzIiwiZXh0ZW5kU2V0dGluZ3MiLCJyZXZlcnNlIiwicmVzZXRUb1N0YXJ0IiwiaXNTZXR0aW5nVHJ1ZSIsImdsYXJlIiwiZ2xhcmVQcmVyZW5kZXIiLCJmdWxsUGFnZUxpc3RlbmluZyIsImd5cm9zY29wZSIsImd5cm9zY29wZVNhbXBsZXMiLCJlbGVtZW50TGlzdGVuZXIiLCJnZXRFbGVtZW50TGlzdGVuZXIiLCJwcmVwYXJlR2xhcmUiLCJ1cGRhdGVDbGllbnRTaXplIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJzdGFydFgiLCJzdGFydFkiLCJfY3JlYXRlQ2xhc3MiLCJrZXkiLCJ2YWx1ZSIsIndpbmRvdyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm9uTW91c2VFbnRlckJpbmQiLCJvbk1vdXNlRW50ZXIiLCJvbk1vdXNlTW92ZUJpbmQiLCJvbk1vdXNlTW92ZSIsIm9uTW91c2VMZWF2ZUJpbmQiLCJvbk1vdXNlTGVhdmUiLCJvbldpbmRvd1Jlc2l6ZUJpbmQiLCJvbldpbmRvd1Jlc2l6ZSIsIm9uRGV2aWNlT3JpZW50YXRpb25CaW5kIiwib25EZXZpY2VPcmllbnRhdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xlYXJUaW1lb3V0IiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJzdHlsZSIsIndpbGxDaGFuZ2UiLCJ0cmFuc2l0aW9uIiwidHJhbnNmb3JtIiwicmVzZXRHbGFyZSIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwidmFuaWxsYVRpbHQiLCJnYW1tYSIsImJldGEiLCJ1cGRhdGVFbGVtZW50UG9zaXRpb24iLCJneXJvc2NvcGVNYXhBbmdsZVgiLCJneXJvc2NvcGVNaW5BbmdsZVgiLCJneXJvc2NvcGVNYXhBbmdsZVkiLCJneXJvc2NvcGVNaW5BbmdsZVkiLCJzIiwibiIsImwiLCJhIiwiY2xpZW50WCIsImNsaWVudFkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzZXRUcmFuc2l0aW9uIiwibWF4Iiwic2NhbGUiLCJnbGFyZUVsZW1lbnQiLCJvcGFjaXR5IiwiTWF0aCIsIm1pbiIsInRpbHRYIiwidG9GaXhlZCIsInRpbHRZIiwicGVyY2VudGFnZVgiLCJwZXJjZW50YWdlWSIsImFuZ2xlIiwiYXRhbjIiLCJQSSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0IiwiZ2V0VmFsdWVzIiwicGVyc3BlY3RpdmUiLCJheGlzIiwiY29uY2F0IiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImFwcGVuZENoaWxkIiwiZ2xhcmVFbGVtZW50V3JhcHBlciIsIk9iamVjdCIsImFzc2lnbiIsInBvc2l0aW9uIiwib3ZlcmZsb3ciLCJ1cGRhdGVHbGFyZVNpemUiLCJpbm5lcldpZHRoIiwiZG9jdW1lbnRFbGVtZW50IiwiYm9keSIsImlubmVySGVpZ2h0IiwiX3RoaXMiLCJzcGVlZCIsImVhc2luZyIsInNldFRpbWVvdXQiLCJoYXNBdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGUiLCJKU09OIiwicGFyc2UiLCJOb2RlTGlzdCIsInNsaWNlIiwiY2FsbCIsIkFycmF5IiwiZm9yRWFjaCIsImlu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QUF1aFIsTUFBTSxvQkFBb0IrQyxXQUFXRCxPQUFPakQsWUFBWUMsRUFBRUEsRUFBRTBJLEtBQUt6RixTQUFTMEYsaUJBQWlCLGlCQUFpQjNJLENBQUMsQ0FBbnFSIiwiZmlsZSI6InRpdGwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFZhbmlsbGFUaWx0PWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7Y2xhc3MgdHtjb25zdHJ1Y3RvcihlLGk9e30pe2lmKCEoZSBpbnN0YW5jZW9mIE5vZGUpKXRocm93XCJDYW4ndCBpbml0aWFsaXplIFZhbmlsbGFUaWx0IGJlY2F1c2UgXCIrZStcIiBpcyBub3QgYSBOb2RlLlwiO3RoaXMud2lkdGg9bnVsbCx0aGlzLmhlaWdodD1udWxsLHRoaXMuY2xpZW50V2lkdGg9bnVsbCx0aGlzLmNsaWVudEhlaWdodD1udWxsLHRoaXMubGVmdD1udWxsLHRoaXMudG9wPW51bGwsdGhpcy5nYW1tYXplcm89bnVsbCx0aGlzLmJldGF6ZXJvPW51bGwsdGhpcy5sYXN0Z2FtbWF6ZXJvPW51bGwsdGhpcy5sYXN0YmV0YXplcm89bnVsbCx0aGlzLnRyYW5zaXRpb25UaW1lb3V0PW51bGwsdGhpcy51cGRhdGVDYWxsPW51bGwsdGhpcy5ldmVudD1udWxsLHRoaXMudXBkYXRlQmluZD10aGlzLnVwZGF0ZS5iaW5kKHRoaXMpLHRoaXMucmVzZXRCaW5kPXRoaXMucmVzZXQuYmluZCh0aGlzKSx0aGlzLmVsZW1lbnQ9ZSx0aGlzLnNldHRpbmdzPXRoaXMuZXh0ZW5kU2V0dGluZ3MoaSksdGhpcy5yZXZlcnNlPXRoaXMuc2V0dGluZ3MucmV2ZXJzZT8tMToxLHRoaXMucmVzZXRUb1N0YXJ0PXQuaXNTZXR0aW5nVHJ1ZSh0aGlzLnNldHRpbmdzW1wicmVzZXQtdG8tc3RhcnRcIl0pLHRoaXMuZ2xhcmU9dC5pc1NldHRpbmdUcnVlKHRoaXMuc2V0dGluZ3MuZ2xhcmUpLHRoaXMuZ2xhcmVQcmVyZW5kZXI9dC5pc1NldHRpbmdUcnVlKHRoaXMuc2V0dGluZ3NbXCJnbGFyZS1wcmVyZW5kZXJcIl0pLHRoaXMuZnVsbFBhZ2VMaXN0ZW5pbmc9dC5pc1NldHRpbmdUcnVlKHRoaXMuc2V0dGluZ3NbXCJmdWxsLXBhZ2UtbGlzdGVuaW5nXCJdKSx0aGlzLmd5cm9zY29wZT10LmlzU2V0dGluZ1RydWUodGhpcy5zZXR0aW5ncy5neXJvc2NvcGUpLHRoaXMuZ3lyb3Njb3BlU2FtcGxlcz10aGlzLnNldHRpbmdzLmd5cm9zY29wZVNhbXBsZXMsdGhpcy5lbGVtZW50TGlzdGVuZXI9dGhpcy5nZXRFbGVtZW50TGlzdGVuZXIoKSx0aGlzLmdsYXJlJiZ0aGlzLnByZXBhcmVHbGFyZSgpLHRoaXMuZnVsbFBhZ2VMaXN0ZW5pbmcmJnRoaXMudXBkYXRlQ2xpZW50U2l6ZSgpLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKSx0aGlzLnJlc2V0KCksITE9PT10aGlzLnJlc2V0VG9TdGFydCYmKHRoaXMuc2V0dGluZ3Muc3RhcnRYPTAsdGhpcy5zZXR0aW5ncy5zdGFydFk9MCl9c3RhdGljIGlzU2V0dGluZ1RydWUodCl7cmV0dXJuXCJcIj09PXR8fCEwPT09dHx8MT09PXR9Z2V0RWxlbWVudExpc3RlbmVyKCl7aWYodGhpcy5mdWxsUGFnZUxpc3RlbmluZylyZXR1cm4gd2luZG93LmRvY3VtZW50O2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLnNldHRpbmdzW1wibW91c2UtZXZlbnQtZWxlbWVudFwiXSl7Y29uc3QgdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2V0dGluZ3NbXCJtb3VzZS1ldmVudC1lbGVtZW50XCJdKTtpZih0KXJldHVybiB0fXJldHVybiB0aGlzLnNldHRpbmdzW1wibW91c2UtZXZlbnQtZWxlbWVudFwiXWluc3RhbmNlb2YgTm9kZT90aGlzLnNldHRpbmdzW1wibW91c2UtZXZlbnQtZWxlbWVudFwiXTp0aGlzLmVsZW1lbnR9YWRkRXZlbnRMaXN0ZW5lcnMoKXt0aGlzLm9uTW91c2VFbnRlckJpbmQ9dGhpcy5vbk1vdXNlRW50ZXIuYmluZCh0aGlzKSx0aGlzLm9uTW91c2VNb3ZlQmluZD10aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcyksdGhpcy5vbk1vdXNlTGVhdmVCaW5kPXRoaXMub25Nb3VzZUxlYXZlLmJpbmQodGhpcyksdGhpcy5vbldpbmRvd1Jlc2l6ZUJpbmQ9dGhpcy5vbldpbmRvd1Jlc2l6ZS5iaW5kKHRoaXMpLHRoaXMub25EZXZpY2VPcmllbnRhdGlvbkJpbmQ9dGhpcy5vbkRldmljZU9yaWVudGF0aW9uLmJpbmQodGhpcyksdGhpcy5lbGVtZW50TGlzdGVuZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIix0aGlzLm9uTW91c2VFbnRlckJpbmQpLHRoaXMuZWxlbWVudExpc3RlbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsdGhpcy5vbk1vdXNlTGVhdmVCaW5kKSx0aGlzLmVsZW1lbnRMaXN0ZW5lci5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5vbk1vdXNlTW92ZUJpbmQpLCh0aGlzLmdsYXJlfHx0aGlzLmZ1bGxQYWdlTGlzdGVuaW5nKSYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLm9uV2luZG93UmVzaXplQmluZCksdGhpcy5neXJvc2NvcGUmJndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZGV2aWNlb3JpZW50YXRpb25cIix0aGlzLm9uRGV2aWNlT3JpZW50YXRpb25CaW5kKX1yZW1vdmVFdmVudExpc3RlbmVycygpe3RoaXMuZWxlbWVudExpc3RlbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsdGhpcy5vbk1vdXNlRW50ZXJCaW5kKSx0aGlzLmVsZW1lbnRMaXN0ZW5lci5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLHRoaXMub25Nb3VzZUxlYXZlQmluZCksdGhpcy5lbGVtZW50TGlzdGVuZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMub25Nb3VzZU1vdmVCaW5kKSx0aGlzLmd5cm9zY29wZSYmd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkZXZpY2VvcmllbnRhdGlvblwiLHRoaXMub25EZXZpY2VPcmllbnRhdGlvbkJpbmQpLCh0aGlzLmdsYXJlfHx0aGlzLmZ1bGxQYWdlTGlzdGVuaW5nKSYmd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLm9uV2luZG93UmVzaXplQmluZCl9ZGVzdHJveSgpe2NsZWFyVGltZW91dCh0aGlzLnRyYW5zaXRpb25UaW1lb3V0KSxudWxsIT09dGhpcy51cGRhdGVDYWxsJiZjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZUNhbGwpLHRoaXMuZWxlbWVudC5zdHlsZS53aWxsQ2hhbmdlPVwiXCIsdGhpcy5lbGVtZW50LnN0eWxlLnRyYW5zaXRpb249XCJcIix0aGlzLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtPVwiXCIsdGhpcy5yZXNldEdsYXJlKCksdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpLHRoaXMuZWxlbWVudC52YW5pbGxhVGlsdD1udWxsLGRlbGV0ZSB0aGlzLmVsZW1lbnQudmFuaWxsYVRpbHQsdGhpcy5lbGVtZW50PW51bGx9b25EZXZpY2VPcmllbnRhdGlvbih0KXtpZihudWxsPT09dC5nYW1tYXx8bnVsbD09PXQuYmV0YSlyZXR1cm47dGhpcy51cGRhdGVFbGVtZW50UG9zaXRpb24oKSx0aGlzLmd5cm9zY29wZVNhbXBsZXM+MCYmKHRoaXMubGFzdGdhbW1hemVybz10aGlzLmdhbW1hemVybyx0aGlzLmxhc3RiZXRhemVybz10aGlzLmJldGF6ZXJvLG51bGw9PT10aGlzLmdhbW1hemVybz8odGhpcy5nYW1tYXplcm89dC5nYW1tYSx0aGlzLmJldGF6ZXJvPXQuYmV0YSk6KHRoaXMuZ2FtbWF6ZXJvPSh0LmdhbW1hK3RoaXMubGFzdGdhbW1hemVybykvMix0aGlzLmJldGF6ZXJvPSh0LmJldGErdGhpcy5sYXN0YmV0YXplcm8pLzIpLHRoaXMuZ3lyb3Njb3BlU2FtcGxlcy09MSk7Y29uc3QgZT10aGlzLnNldHRpbmdzLmd5cm9zY29wZU1heEFuZ2xlWC10aGlzLnNldHRpbmdzLmd5cm9zY29wZU1pbkFuZ2xlWCxpPXRoaXMuc2V0dGluZ3MuZ3lyb3Njb3BlTWF4QW5nbGVZLXRoaXMuc2V0dGluZ3MuZ3lyb3Njb3BlTWluQW5nbGVZLHM9ZS90aGlzLndpZHRoLG49aS90aGlzLmhlaWdodCxsPSh0LmdhbW1hLSh0aGlzLnNldHRpbmdzLmd5cm9zY29wZU1pbkFuZ2xlWCt0aGlzLmdhbW1hemVybykpL3MsYT0odC5iZXRhLSh0aGlzLnNldHRpbmdzLmd5cm9zY29wZU1pbkFuZ2xlWSt0aGlzLmJldGF6ZXJvKSkvbjtudWxsIT09dGhpcy51cGRhdGVDYWxsJiZjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZUNhbGwpLHRoaXMuZXZlbnQ9e2NsaWVudFg6bCt0aGlzLmxlZnQsY2xpZW50WTphK3RoaXMudG9wfSx0aGlzLnVwZGF0ZUNhbGw9cmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlQmluZCl9b25Nb3VzZUVudGVyKCl7dGhpcy51cGRhdGVFbGVtZW50UG9zaXRpb24oKSx0aGlzLmVsZW1lbnQuc3R5bGUud2lsbENoYW5nZT1cInRyYW5zZm9ybVwiLHRoaXMuc2V0VHJhbnNpdGlvbigpfW9uTW91c2VNb3ZlKHQpe251bGwhPT10aGlzLnVwZGF0ZUNhbGwmJmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlQ2FsbCksdGhpcy5ldmVudD10LHRoaXMudXBkYXRlQ2FsbD1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGVCaW5kKX1vbk1vdXNlTGVhdmUoKXt0aGlzLnNldFRyYW5zaXRpb24oKSx0aGlzLnNldHRpbmdzLnJlc2V0JiZyZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5yZXNldEJpbmQpfXJlc2V0KCl7dGhpcy5vbk1vdXNlRW50ZXIoKSx0aGlzLmZ1bGxQYWdlTGlzdGVuaW5nP3RoaXMuZXZlbnQ9e2NsaWVudFg6KHRoaXMuc2V0dGluZ3Muc3RhcnRYK3RoaXMuc2V0dGluZ3MubWF4KS8oMip0aGlzLnNldHRpbmdzLm1heCkqdGhpcy5jbGllbnRXaWR0aCxjbGllbnRZOih0aGlzLnNldHRpbmdzLnN0YXJ0WSt0aGlzLnNldHRpbmdzLm1heCkvKDIqdGhpcy5zZXR0aW5ncy5tYXgpKnRoaXMuY2xpZW50SGVpZ2h0fTp0aGlzLmV2ZW50PXtjbGllbnRYOnRoaXMubGVmdCsodGhpcy5zZXR0aW5ncy5zdGFydFgrdGhpcy5zZXR0aW5ncy5tYXgpLygyKnRoaXMuc2V0dGluZ3MubWF4KSp0aGlzLndpZHRoLGNsaWVudFk6dGhpcy50b3ArKHRoaXMuc2V0dGluZ3Muc3RhcnRZK3RoaXMuc2V0dGluZ3MubWF4KS8oMip0aGlzLnNldHRpbmdzLm1heCkqdGhpcy5oZWlnaHR9O2xldCB0PXRoaXMuc2V0dGluZ3Muc2NhbGU7dGhpcy5zZXR0aW5ncy5zY2FsZT0xLHRoaXMudXBkYXRlKCksdGhpcy5zZXR0aW5ncy5zY2FsZT10LHRoaXMucmVzZXRHbGFyZSgpfXJlc2V0R2xhcmUoKXt0aGlzLmdsYXJlJiYodGhpcy5nbGFyZUVsZW1lbnQuc3R5bGUudHJhbnNmb3JtPVwicm90YXRlKDE4MGRlZykgdHJhbnNsYXRlKC01MCUsIC01MCUpXCIsdGhpcy5nbGFyZUVsZW1lbnQuc3R5bGUub3BhY2l0eT1cIjBcIil9Z2V0VmFsdWVzKCl7bGV0IHQsZTtyZXR1cm4gdGhpcy5mdWxsUGFnZUxpc3RlbmluZz8odD10aGlzLmV2ZW50LmNsaWVudFgvdGhpcy5jbGllbnRXaWR0aCxlPXRoaXMuZXZlbnQuY2xpZW50WS90aGlzLmNsaWVudEhlaWdodCk6KHQ9KHRoaXMuZXZlbnQuY2xpZW50WC10aGlzLmxlZnQpL3RoaXMud2lkdGgsZT0odGhpcy5ldmVudC5jbGllbnRZLXRoaXMudG9wKS90aGlzLmhlaWdodCksdD1NYXRoLm1pbihNYXRoLm1heCh0LDApLDEpLGU9TWF0aC5taW4oTWF0aC5tYXgoZSwwKSwxKSx7dGlsdFg6KHRoaXMucmV2ZXJzZSoodGhpcy5zZXR0aW5ncy5tYXgtdCp0aGlzLnNldHRpbmdzLm1heCoyKSkudG9GaXhlZCgyKSx0aWx0WToodGhpcy5yZXZlcnNlKihlKnRoaXMuc2V0dGluZ3MubWF4KjItdGhpcy5zZXR0aW5ncy5tYXgpKS50b0ZpeGVkKDIpLHBlcmNlbnRhZ2VYOjEwMCp0LHBlcmNlbnRhZ2VZOjEwMCplLGFuZ2xlOk1hdGguYXRhbjIodGhpcy5ldmVudC5jbGllbnRYLSh0aGlzLmxlZnQrdGhpcy53aWR0aC8yKSwtKHRoaXMuZXZlbnQuY2xpZW50WS0odGhpcy50b3ArdGhpcy5oZWlnaHQvMikpKSooMTgwL01hdGguUEkpfX11cGRhdGVFbGVtZW50UG9zaXRpb24oKXtsZXQgdD10aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dGhpcy53aWR0aD10aGlzLmVsZW1lbnQub2Zmc2V0V2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodCx0aGlzLmxlZnQ9dC5sZWZ0LHRoaXMudG9wPXQudG9wfXVwZGF0ZSgpe2xldCB0PXRoaXMuZ2V0VmFsdWVzKCk7dGhpcy5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybT1cInBlcnNwZWN0aXZlKFwiK3RoaXMuc2V0dGluZ3MucGVyc3BlY3RpdmUrXCJweCkgcm90YXRlWChcIisoXCJ4XCI9PT10aGlzLnNldHRpbmdzLmF4aXM/MDp0LnRpbHRZKStcImRlZykgcm90YXRlWShcIisoXCJ5XCI9PT10aGlzLnNldHRpbmdzLmF4aXM/MDp0LnRpbHRYKStcImRlZykgc2NhbGUzZChcIit0aGlzLnNldHRpbmdzLnNjYWxlK1wiLCBcIit0aGlzLnNldHRpbmdzLnNjYWxlK1wiLCBcIit0aGlzLnNldHRpbmdzLnNjYWxlK1wiKVwiLHRoaXMuZ2xhcmUmJih0aGlzLmdsYXJlRWxlbWVudC5zdHlsZS50cmFuc2Zvcm09YHJvdGF0ZSgke3QuYW5nbGV9ZGVnKSB0cmFuc2xhdGUoLTUwJSwgLTUwJSlgLHRoaXMuZ2xhcmVFbGVtZW50LnN0eWxlLm9wYWNpdHk9YCR7dC5wZXJjZW50YWdlWSp0aGlzLnNldHRpbmdzW1wibWF4LWdsYXJlXCJdLzEwMH1gKSx0aGlzLmVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJ0aWx0Q2hhbmdlXCIse2RldGFpbDp0fSkpLHRoaXMudXBkYXRlQ2FsbD1udWxsfXByZXBhcmVHbGFyZSgpe2lmKCF0aGlzLmdsYXJlUHJlcmVuZGVyKXtjb25zdCB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5jbGFzc0xpc3QuYWRkKFwianMtdGlsdC1nbGFyZVwiKTtjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5jbGFzc0xpc3QuYWRkKFwianMtdGlsdC1nbGFyZS1pbm5lclwiKSx0LmFwcGVuZENoaWxkKGUpLHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0KX10aGlzLmdsYXJlRWxlbWVudFdyYXBwZXI9dGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuanMtdGlsdC1nbGFyZVwiKSx0aGlzLmdsYXJlRWxlbWVudD10aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy10aWx0LWdsYXJlLWlubmVyXCIpLHRoaXMuZ2xhcmVQcmVyZW5kZXJ8fChPYmplY3QuYXNzaWduKHRoaXMuZ2xhcmVFbGVtZW50V3JhcHBlci5zdHlsZSx7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDpcIjBcIixsZWZ0OlwiMFwiLHdpZHRoOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIixvdmVyZmxvdzpcImhpZGRlblwiLFwicG9pbnRlci1ldmVudHNcIjpcIm5vbmVcIixcImJvcmRlci1yYWRpdXNcIjpcImluaGVyaXRcIn0pLE9iamVjdC5hc3NpZ24odGhpcy5nbGFyZUVsZW1lbnQuc3R5bGUse3Bvc2l0aW9uOlwiYWJzb2x1dGVcIix0b3A6XCI1MCVcIixsZWZ0OlwiNTAlXCIsXCJwb2ludGVyLWV2ZW50c1wiOlwibm9uZVwiLFwiYmFja2dyb3VuZC1pbWFnZVwiOlwibGluZWFyLWdyYWRpZW50KDBkZWcsIHJnYmEoMjU1LDI1NSwyNTUsMCkgMCUsIHJnYmEoMjU1LDI1NSwyNTUsMSkgMTAwJSlcIix0cmFuc2Zvcm06XCJyb3RhdGUoMTgwZGVnKSB0cmFuc2xhdGUoLTUwJSwgLTUwJSlcIixcInRyYW5zZm9ybS1vcmlnaW5cIjpcIjAlIDAlXCIsb3BhY2l0eTpcIjBcIn0pLHRoaXMudXBkYXRlR2xhcmVTaXplKCkpfXVwZGF0ZUdsYXJlU2l6ZSgpe2lmKHRoaXMuZ2xhcmUpe2NvbnN0IHQ9MioodGhpcy5lbGVtZW50Lm9mZnNldFdpZHRoPnRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHQ/dGhpcy5lbGVtZW50Lm9mZnNldFdpZHRoOnRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHQpO09iamVjdC5hc3NpZ24odGhpcy5nbGFyZUVsZW1lbnQuc3R5bGUse3dpZHRoOmAke3R9cHhgLGhlaWdodDpgJHt0fXB4YH0pfX11cGRhdGVDbGllbnRTaXplKCl7dGhpcy5jbGllbnRXaWR0aD13aW5kb3cuaW5uZXJXaWR0aHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRofHxkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLHRoaXMuY2xpZW50SGVpZ2h0PXdpbmRvdy5pbm5lckhlaWdodHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodHx8ZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHR9b25XaW5kb3dSZXNpemUoKXt0aGlzLnVwZGF0ZUdsYXJlU2l6ZSgpLHRoaXMudXBkYXRlQ2xpZW50U2l6ZSgpfXNldFRyYW5zaXRpb24oKXtjbGVhclRpbWVvdXQodGhpcy50cmFuc2l0aW9uVGltZW91dCksdGhpcy5lbGVtZW50LnN0eWxlLnRyYW5zaXRpb249dGhpcy5zZXR0aW5ncy5zcGVlZCtcIm1zIFwiK3RoaXMuc2V0dGluZ3MuZWFzaW5nLHRoaXMuZ2xhcmUmJih0aGlzLmdsYXJlRWxlbWVudC5zdHlsZS50cmFuc2l0aW9uPWBvcGFjaXR5ICR7dGhpcy5zZXR0aW5ncy5zcGVlZH1tcyAke3RoaXMuc2V0dGluZ3MuZWFzaW5nfWApLHRoaXMudHJhbnNpdGlvblRpbWVvdXQ9c2V0VGltZW91dCgoKT0+e3RoaXMuZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uPVwiXCIsdGhpcy5nbGFyZSYmKHRoaXMuZ2xhcmVFbGVtZW50LnN0eWxlLnRyYW5zaXRpb249XCJcIil9LHRoaXMuc2V0dGluZ3Muc3BlZWQpfWV4dGVuZFNldHRpbmdzKHQpe2xldCBlPXtyZXZlcnNlOiExLG1heDoxNSxzdGFydFg6MCxzdGFydFk6MCxwZXJzcGVjdGl2ZToxZTMsZWFzaW5nOlwiY3ViaWMtYmV6aWVyKC4wMywuOTgsLjUyLC45OSlcIixzY2FsZToxLHNwZWVkOjMwMCx0cmFuc2l0aW9uOiEwLGF4aXM6bnVsbCxnbGFyZTohMSxcIm1heC1nbGFyZVwiOjEsXCJnbGFyZS1wcmVyZW5kZXJcIjohMSxcImZ1bGwtcGFnZS1saXN0ZW5pbmdcIjohMSxcIm1vdXNlLWV2ZW50LWVsZW1lbnRcIjpudWxsLHJlc2V0OiEwLFwicmVzZXQtdG8tc3RhcnRcIjohMCxneXJvc2NvcGU6ITAsZ3lyb3Njb3BlTWluQW5nbGVYOi00NSxneXJvc2NvcGVNYXhBbmdsZVg6NDUsZ3lyb3Njb3BlTWluQW5nbGVZOi00NSxneXJvc2NvcGVNYXhBbmdsZVk6NDUsZ3lyb3Njb3BlU2FtcGxlczoxMH0saT17fTtmb3IodmFyIHMgaW4gZSlpZihzIGluIHQpaVtzXT10W3NdO2Vsc2UgaWYodGhpcy5lbGVtZW50Lmhhc0F0dHJpYnV0ZShcImRhdGEtdGlsdC1cIitzKSl7bGV0IHQ9dGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtdGlsdC1cIitzKTt0cnl7aVtzXT1KU09OLnBhcnNlKHQpfWNhdGNoKGUpe2lbc109dH19ZWxzZSBpW3NdPWVbc107cmV0dXJuIGl9c3RhdGljIGluaXQoZSxpKXtlIGluc3RhbmNlb2YgTm9kZSYmKGU9W2VdKSxlIGluc3RhbmNlb2YgTm9kZUxpc3QmJihlPVtdLnNsaWNlLmNhbGwoZSkpLGUgaW5zdGFuY2VvZiBBcnJheSYmZS5mb3JFYWNoKGU9PntcInZhbmlsbGFUaWx0XCJpbiBlfHwoZS52YW5pbGxhVGlsdD1uZXcgdChlLGkpKX0pfX1yZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQmJih3aW5kb3cuVmFuaWxsYVRpbHQ9dCx0LmluaXQoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXRpbHRdXCIpKSksdH0oKTsiXX0=